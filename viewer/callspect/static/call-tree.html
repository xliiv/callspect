<link rel="import" href="/static/bower_components/polymer/polymer-element.html">
<!--
  TODO: they should be seperate importable elements:
-->
<script src="/static/vendor/finder.min.js"></script>
<link rel="import" href="/static/vendor/finder-css.html">


<dom-module id="call-tree">
  <template>
    <style include="finder-css">

      :host {
        display: block;
      }

    </style>

    <div id="finder"></div>

  </template>

  <script>
    class CallTree extends Polymer.Element {

      static get is() { return "call-tree" }

      update(data, options) {
        this.finderObj = finder(this.$.finder, data, options);
        this.finderObj.on("item-selected", (evt)=>{
          this.dispatchEvent(new CustomEvent("item-selected", {detail: {item: evt.item.textContent}}));
        });
      }

    }
    customElements.define(CallTree.is, CallTree);
  </script>
</dom-module>

